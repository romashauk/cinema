(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{26:function(e,t,a){e.exports=a(38)},31:function(e,t,a){},32:function(e,t,a){},38:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"GET_MOVIES_REQUEST",function(){return _}),a.d(n,"GET_MOVIES_SUCCESS",function(){return f}),a.d(n,"GET_MOVIES_FAILURE",function(){return g}),a.d(n,"GET_GENRES_REQUEST",function(){return b}),a.d(n,"GET_GENRES_SUCCESS",function(){return O}),a.d(n,"GET_GENRES_FAILURE",function(){return y}),a.d(n,"GET_MOVIEBYID_REQUEST",function(){return j}),a.d(n,"GET_MOVIEBYID_SUCCESS",function(){return N}),a.d(n,"GET_MOVIEBYID_FAILURE",function(){return S}),a.d(n,"getFilm",function(){return I}),a.d(n,"getGenres",function(){return C}),a.d(n,"getMovieById",function(){return M});var r=a(0),i=a.n(r),c=a(21),o=a.n(c),s=(a(31),a(2)),l=a(3),u=a(6),m=a(4),d=a(5),p=(a(32),a(39)),E=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.item,t=this.props,a=t.getFilm,n=t.id,r=t.sort,c=t.searchQuery,o=t.currentPage,s=t.voteAverage,l=t.rateCreater;return i.a.createElement(i.a.Fragment,null,i.a.createElement("li",{className:"Main__item",key:e.id},i.a.createElement(p.a,{onClick:function(){return a(o,c,n,r)},to:"/"+e.id},i.a.createElement("div",{className:"Main__item-poster"}," ",e.poster_path?i.a.createElement("img",{className:"Main__item-poster-img",src:"https://image.tmdb.org/t/p/w500".concat(e.poster_path),alt:"poster"}):i.a.createElement(i.a.Fragment,null,i.a.createElement("h3",{className:"Main__item-poster--unfound"},e.title)),i.a.createElement("div",{className:"Main__item-poster-snippet-block-hide"},i.a.createElement("div",{className:"Main__item-poster-snippet"},i.a.createElement("div",{className:"Main__item-rated"},l(s)),e.overview||e.title))),i.a.createElement("div",{className:"Main__item-info"},i.a.createElement("div",{className:"Main__item-title"},e.title),i.a.createElement("div",{className:"Main__item-year"},e.release_date.split("-")[0])))))}}]),t}(r.Component),v=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).paginationItems=[],a.createPaginationBtns=function(){a.paginationItems=[];for(var e=a.props.currentPage;e<a.props.currentPage+5;e++)a.paginationItems.push(e);for(var t=a.props.currentPage;t>=a.props.currentPage-5;t--)a.paginationItems.unshift(t);a.paginationItems=a.paginationItems.filter(function(e,t){if(a.paginationItems.indexOf(e)===t&&e>1&&e<a.props.quantityPages-1)return!0})},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.getFilm,n=t.currentPage,r=t.quantityPages,c=t.sort,o=t.searchQuery,s=t.id;return this.createPaginationBtns(),i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"Pagination"},i.a.createElement("div",{className:"Pagination__nav"},i.a.createElement("button",{className:"Pagination__nav-btn front",disabled:1===n,onClick:function(){a(n-1,o,s,c)}},"Prev"),i.a.createElement("div",{className:"Pagination__nav-btn ".concat(1===n?"Pagination__nav-btn--active":""),onClick:function(){a(1,o,s,c)}},"1"),n>=5?i.a.createElement("div",{className:"Pagination__nav-btn"},"..."):"",this.paginationItems.map(function(e,t){return i.a.createElement("div",{key:t,className:"Pagination__nav-btn ".concat(n===e?"Pagination__nav-btn--active":""),onClick:function(){a(e,o,s,c)}},e)}),n<=r-5?i.a.createElement("div",{className:"Pagination__nav-btn"},"..."):"",i.a.createElement("div",{hidden:0===this.paginationItems.length,className:"Pagination__nav-btn ".concat(n===r?"Pagination__nav-btn--active":""),onClick:function(){a(e.props.quantityPages,o,s,c)}},r),i.a.createElement("button",{className:"Pagination__nav-btn front",disabled:n===r,onClick:function(){a(n+1,o,s,c)}},"Next"))))}}]),t}(r.Component),h=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"loader__container"},i.a.createElement("div",{className:"lds-roller"},i.a.createElement("div",null),i.a.createElement("div",null),i.a.createElement("div",null),i.a.createElement("div",null),i.a.createElement("div",null),i.a.createElement("div",null),i.a.createElement("div",null),i.a.createElement("div",null)))}}]),t}(r.Component),_="GET_MOVIES_REQUEST",f="GET_MOVIES_SUCCESS",g="GET_MOVIES_FAILURE",b="GET_GENRES_REQUEST",O="GET_GENRES_SUCCESS",y="GET_MOVIES_FAILURE",j="GET_MOVIEBYID_REQUEST",N="GET_MOVIEBYID_SUCCESS",S="GET_MOVIEBYID_FAILURE";function I(e,t,a,n){var r=n||t?"https://api.themoviedb.org/3".concat(t?"/search/movie":n?"":"/discover").concat(n&&!t?"/discover/movie":"","?api_key=debadca3a2c163df2dfbed23bec2cb9f&language=en-US&sort_by=").concat("top_rated"===n?"vote_average.desc":"popularity.desc","&include_adult=false&include_video=false").concat(t?"&query=".concat(t):"","&page=").concat(e).concat("top_rated"===n?"&vote_count.gte=100":"").concat(a?"&with_genres=".concat(a):""):"https://api.themoviedb.org/3/discover/movie?api_key=debadca3a2c163df2dfbed23bec2cb9f&language=en-US&sort_by=original_title.asc&include_adult=false&include_video=false&page=".concat(e).concat(a?"&with_genres=".concat(a):"");return function(e){e({type:_}),fetch(r).then(function(e){if(200!==e.status)throw new Error("Failed to load Movies");return e.json()}).then(function(r){e({type:f,movies:r,searchQuery:t,id:a,sort:n})}).catch(function(t){e({type:g,error:t.message})})}}function C(){return function(e){e({type:b}),fetch("https://api.themoviedb.org/3/genre/movie/list?api_key=debadca3a2c163df2dfbed23bec2cb9f&language=en-US").then(function(e){if(200!==e.status)throw new Error("Failed to load Movies");return e.json()}).then(function(t){e({type:O,genres:t})}).catch(function(t){e({type:y,error:t.message})})}}function M(e){var t="https://api.themoviedb.org/3/movie/".concat(e,"?api_key=debadca3a2c163df2dfbed23bec2cb9f&language=en-US");return function(e){e({type:j}),fetch(t).then(function(e){if(200!==e.status)throw new Error("Failed to load Movies");return e.json()}).then(function(t){e({type:N,movieById:t})}).catch(function(t){e({type:S,error:t.message})})}}var k=a(11),P=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.data.genres,t=this.props,a=t.getFilm,n=t.id,r=t.sort;return e?e?i.a.createElement("div",{className:"SideBar"},i.a.createElement("div",{className:"sorted__btn"}," ",i.a.createElement("button",{onClick:function(e){return a(1,null,n,"top_rated")}},"Top Rated"),i.a.createElement("button",{onClick:function(e){return a(1,null,n,"popular")}},"Popular")),i.a.createElement("h2",null,"Genres:"),i.a.createElement("ul",{className:"sideBarList"},this.props.data.genres.map(function(e){return i.a.createElement("li",{onClick:function(){return a(1,null,e.id,r)},key:e.id},e.name)}))):void 0:i.a.createElement(h,null)}}]),t}(r.Component),F=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={searchValue:""},a.searchFilmByName=function(e){a.setState({searchValue:e.target.value})},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.state.searchValue,t=this.props.getFilm;return i.a.createElement("div",{className:"header"},i.a.createElement("div",{className:"header__logo",onClick:function(){return t(1)}}),i.a.createElement("form",{className:"header__field"},i.a.createElement("input",{onChange:this.searchFilmByName,value:e,type:"text",placeholder:"Search..."}),i.a.createElement("button",{onClick:function(a){a.preventDefault(),t(1,e)},type:"submit"},"Search")))}}]),t}(r.Component),T=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"not__found"},i.a.createElement("h1",null,"Sorry, but nothing found"))}}]),t}(r.Component),w=function(e){function t(){var e,a;Object(s.a)(this,t);for(var r=arguments.length,c=new Array(r),o=0;o<r;o++)c[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(c)))).state={currentPage:1,quantityPage:1e3},a.getFilm=function(){a.props.dispatch(I.apply(n,arguments))},a.rateCreater=function(e){for(var t=[],a=Math.floor(e),n=0;n<a;n++)t.push(1);if(e-a>=.5&&t.push(2),Math.round(e)<9||e<8){for(var r=Math.ceil(9-e),c=0;c<r;c++)t.push(0);e-a>=.5&&t.pop()}return i.a.createElement(i.a.Fragment,null,0===e?null:t.map(function(e){return 1===e?i.a.createElement("i",{class:"fas fa-star"}):i.a.createElement("i",{class:"fas fa-star-half-alt"})||0===e?i.a.createElement("i",{class:"far fa-star"}):null}))},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.dispatch,a=e.searchQuery,n=e.id,r=e.sort;t(I(this.state.currentPage,a,n,r)),t(C())}},{key:"render",value:function(){var e=this,t=this.state.quantityPage,a=this.props.movies.results,n=this.props,r=n.moviesLoading,c=n.movies,o=n.genres;return r?a?i.a.createElement("div",{className:"container"},i.a.createElement(F,Object.assign({},this.props,{getFilm:this.getFilm})),i.a.createElement("div",{className:"wrapper"},i.a.createElement(P,Object.assign({getFilm:this.getFilm,data:o},this.props)),i.a.createElement("div",{className:"Main"},i.a.createElement("div",{className:"Main__movies"},0!==a.length?i.a.createElement("ul",{className:"Main__list"},a.map(function(t){return i.a.createElement(E,Object.assign({},e.props,{getFilm:e.getFilm,key:t.id,item:t,voteAverage:t.vote_average,rateCreater:e.rateCreater}))})):i.a.createElement(T,null)))),1===c.total_pages?null:i.a.createElement(v,Object.assign({currentPage:c.page},this.props,{quantityPages:c.total_pages>1e3?t:c.total_pages,getFilm:this.getFilm}))):void 0:i.a.createElement(h,null)}}]),t}(r.Component),G=Object(k.b)(function(e){var t=e.genres;return{movies:e.movies,moviesLoading:e.moviesLoading,moviesError:e.moviesError,genres:t,id:e.id,searchQuery:e.searchQuery,sort:e.sort}})(w),L=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).rateCreater=function(e){for(var t=[],a=Math.floor(e),n=0;n<a;n++)t.push(1);if(e-a>=.5&&t.push(2),Math.round(e)<9||e<8){for(var r=Math.ceil(9-e),c=0;c<r;c++)t.push(0);e-a>=.5&&t.pop()}return i.a.createElement(i.a.Fragment,null,0===e?null:t.map(function(e){return 1===e?i.a.createElement("i",{class:"fas fa-star"}):i.a.createElement("i",{class:"fas fa-star-half-alt"})||0===e?i.a.createElement("i",{class:"far fa-star"}):null}))},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.id;this.props.dispatch(M(e))}},{key:"render",value:function(){var e=this.props,t=e.movieById,a=e.moviesLoading;return a&&t?a&&t?i.a.createElement("section",{className:"details"},i.a.createElement("div",{className:"container"},i.a.createElement(p.a,{className:"details__btn",to:"/"},i.a.createElement("button",null,"Back")),t.poster_path?i.a.createElement("img",{src:"https://image.tmdb.org/t/p/w400".concat(t.poster_path),alt:"poster"}):i.a.createElement("div",{className:"details__poster"},i.a.createElement("h2",null,t.title)),i.a.createElement("div",{className:"details__information"},i.a.createElement("div",{className:"details__title"},i.a.createElement("h2",null,"Name:"),i.a.createElement("p",null,t.title)),i.a.createElement("div",{className:"details__title"},i.a.createElement("h2",null,"Year:"),i.a.createElement("p",null,t.release_date.split("-")[0])),i.a.createElement("div",{className:"details__title"},i.a.createElement("h2",null,"Rate:"),i.a.createElement("p",{className:"details__rated"},this.rateCreater(t.vote_average))),i.a.createElement("div",{className:"details__title"},i.a.createElement("h2",null,"Country:"),i.a.createElement("p",null,1==typeof t.production_countries&&t.production_countries[0].name)),t.runtime?i.a.createElement("div",{className:"details__title"},i.a.createElement("h2",null,"Runtime:"),i.a.createElement("p",null,t.runtime," min")):null,i.a.createElement("div",{className:"details__title"},i.a.createElement("h2",null,"Genres:"),i.a.createElement("p",null,t.genres.map(function(e){return i.a.createElement("div",{key:e.id},e.name)})))),i.a.createElement("div",{className:"main"},i.a.createElement("h2",null,"About Movie:"),i.a.createElement("p",null,t.overview)))):void 0:i.a.createElement(h,null)}}]),t}(r.Component),U=Object(k.b)(function(e){return{movieById:e.movieById,moviesLoading:e.moviesLoading}})(L),B=a(41),R=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"App"},i.a.createElement(B.a,{exact:!0,path:"/",component:G}),i.a.createElement(B.a,{path:"/:id",component:U}))}}]),t}(r.Component),V=a(40),Q=a(12),A=a(24),D=a(25),q=a(10),Y={movies:[],moviesLoading:!1,moviesyError:null,genres:[],searchQuery:!1,id:!1,sort:!1,movieById:null},x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _:return Object(q.a)({},e,{moviesLoading:!1});case f:return Object(q.a)({},e,{movies:t.movies,moviesLoading:!0,searchQuery:t.searchQuery,id:t.id,sort:t.sort});case g:return Object(q.a)({},e,{moviesLoading:!0,moviesError:t.error});case b:return Object(q.a)({},e,{moviesLoading:!1});case O:return Object(q.a)({},e,{genres:t.genres,moviesLoading:!0});case y:return Object(q.a)({},e,{moviesLoading:!0,moviesError:t.error});case j:return Object(q.a)({},e,{moviesLoading:!1});case N:return Object(q.a)({},e,{movieById:t.movieById,moviesLoading:!0});case S:return Object(q.a)({},e,{moviesLoading:!0,moviesError:t.error});default:return e}},X=[A.a,Object(D.createLogger)()],J=Object(Q.d)(x,Object(Q.c)(Q.a.apply(void 0,X),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()));o.a.render(i.a.createElement(V.a,{basename:"/cinema"},i.a.createElement(k.a,{store:J},i.a.createElement(R,null))),document.getElementById("root"))}},[[26,1,2]]]);
//# sourceMappingURL=main.f1d4cb0f.chunk.js.map