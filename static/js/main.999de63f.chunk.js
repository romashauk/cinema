(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{26:function(e,t,a){e.exports=a(38)},31:function(e,t,a){},32:function(e,t,a){},38:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(21),c=a.n(r),o=(a(31),a(2)),s=a(3),l=a(6),m=a(4),u=a(5),d=(a(32),a(39)),p=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.item;return i.a.createElement(i.a.Fragment,null,i.a.createElement("li",{className:"Main__item",key:e.id},i.a.createElement(d.a,{to:"/"+e.id},i.a.createElement("div",{className:"Main__item-poster"}," ",e.poster_path?i.a.createElement("img",{className:"Main__item-poster-img",src:"https://image.tmdb.org/t/p/w500".concat(e.poster_path),alt:"poster"}):i.a.createElement("h3",{className:"Main__item-poster--unfound"},e.title),i.a.createElement("div",{className:"Main__item-poster-snippet-block-hide"},i.a.createElement("div",{className:"Main__item-poster-snippet"},e.overview||e.title),i.a.createElement("div",null,"..."))),i.a.createElement("div",{className:"Main__item-info"},i.a.createElement("div",{className:"Main__item-title"},e.title),i.a.createElement("div",{className:"Main__item-year"},e.release_date.split("-")[0])))))}}]),t}(n.Component),v=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(l.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(i)))).paginationItems=[],a.createPaginationBtns=function(){a.paginationItems=[];for(var e=a.props.currentPage;e<a.props.currentPage+5;e++)a.paginationItems.push(e);for(var t=a.props.currentPage;t>=a.props.currentPage-5;t--)a.paginationItems.unshift(t);a.paginationItems=a.paginationItems.filter(function(e,t){if(a.paginationItems.indexOf(e)===t&&e>1&&e<a.props.quantityPages-1)return!0})},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.getFilm,n=t.currentPage,r=t.quantityPages,c=t.sort,o=t.searchQuery,s=t.id;return this.createPaginationBtns(),i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"Pagination"},i.a.createElement("div",{className:"Pagination__nav"},i.a.createElement("button",{className:"Pagination__nav-btn front",disabled:1===n,onClick:function(){a(n-1,o,s,c)}},"Prev"),i.a.createElement("div",{className:"Pagination__nav-btn ".concat(1===n?"Pagination__nav-btn--active":""),onClick:function(){a(1,o,s,c)}},"1"),n>=5?i.a.createElement("div",{className:"Pagination__nav-btn"},"..."):"",this.paginationItems.map(function(e,t){return i.a.createElement("div",{key:t,className:"Pagination__nav-btn ".concat(n===e?"Pagination__nav-btn--active":""),onClick:function(){a(e,o,s,c)}},e)}),n<=r-5?i.a.createElement("div",{className:"Pagination__nav-btn"},"..."):"",i.a.createElement("div",{hidden:0===this.paginationItems.length,className:"Pagination__nav-btn ".concat(n===r?"Pagination__nav-btn--active":""),onClick:function(){a(e.props.quantityPages,o,s,c)}},r),i.a.createElement("button",{className:"Pagination__nav-btn front",disabled:n===r,onClick:function(){a(n+1,o,s,c)}},"Next"))))}}]),t}(n.Component),E=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"loader__container"},i.a.createElement("div",{className:"lds-roller"},i.a.createElement("div",null),i.a.createElement("div",null),i.a.createElement("div",null),i.a.createElement("div",null),i.a.createElement("div",null),i.a.createElement("div",null),i.a.createElement("div",null),i.a.createElement("div",null)))}}]),t}(n.Component),h="GET_MOVIES_REQUEST",g="GET_MOVIES_SUCCESS",_="GET_MOVIES_FAILURE",b="GET_GENRES_REQUEST",f="GET_GENRES_SUCCESS",y="GET_MOVIES_FAILURE",O="GET_MOVIEBYID_REQUEST",j="GET_MOVIEBYID_SUCCESS",N="GET_MOVIEBYID_FAILURE";function k(e,t,a,n,i){var r=n||t?"https://api.themoviedb.org/3".concat(t?"/search/movie":n?"":"/discover").concat(n&&!t?"/discover/movie":"","?api_key=debadca3a2c163df2dfbed23bec2cb9f&language=en-US&sort_by=").concat("top_rated"===n?"vote_average.desc":"popularity.desc","&include_adult=false&include_video=false").concat(t?"&query=".concat(t):"","&page=").concat(e).concat("top_rated"===n?"&vote_count.gte=100":"").concat(a?"&with_genres=".concat(a):""):"https://api.themoviedb.org/3/discover/movie?api_key=debadca3a2c163df2dfbed23bec2cb9f&language=en-US&sort_by=original_title.asc&include_adult=false&include_video=false&page=".concat(e).concat(a?"&with_genres=".concat(a):"");return console.log(r),function(e){e({type:h}),fetch(r).then(function(e){if(200!==e.status)throw new Error("Failed to load Movies");return e.json()}).then(function(i){e({type:g,movies:i,searchQuery:t,id:a,sort:n})}).catch(function(t){e({type:_,error:t.message})})}}var I=a(11),S=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.data.genres,t=this.props,a=t.getFilm,n=t.id,r=t.sort;return e?e?i.a.createElement("div",{className:"SideBar"},i.a.createElement("div",{className:"sorted__btn"}," ",i.a.createElement("button",{onClick:function(e){return a(1,null,n,"top_rated")}},"Top Rated"),i.a.createElement("button",{onClick:function(e){return a(1,null,n,"popular")}},"Popular")),i.a.createElement("h2",null,"Genres:"),i.a.createElement("ul",{className:"sideBarList"},this.props.data.genres.map(function(e){return i.a.createElement("li",{onClick:function(){return a(1,null,e.id,r)},key:e.id},e.name)}))):void 0:i.a.createElement(E,null)}}]),t}(n.Component),P=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(l.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(i)))).state={searchValue:""},a.searchFilmByName=function(e){a.setState({searchValue:e.target.value})},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state.searchValue,t=this.props.getFilm;return i.a.createElement("div",{className:"header"},i.a.createElement("div",{className:"header__logo",onClick:function(){return t(1)}}),i.a.createElement("form",{className:"header__field"},i.a.createElement("input",{onChange:this.searchFilmByName,value:e,type:"text",placeholder:"Search..."}),i.a.createElement("button",{onClick:function(a){a.preventDefault(),t(1,e)},type:"submit"},"Search")))}}]),t}(n.Component),C=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"not__found"},i.a.createElement("h1",null,"Sorry, but nothing found"))}}]),t}(n.Component),w=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(l.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(i)))).state={currentPage:1,quantityPage:1e3},a.getFilm=function(e,t,n,i,r){a.props.dispatch(k(e,t,n,i))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.dispatch,a=e.searchQuery,n=e.id,i=e.sort;t(k(this.state.currentPage,a,n,i)),t(function(e){e({type:b}),fetch("https://api.themoviedb.org/3/genre/movie/list?api_key=debadca3a2c163df2dfbed23bec2cb9f&language=en-US").then(function(e){if(200!==e.status)throw new Error("Failed to load Movies");return e.json()}).then(function(t){e({type:f,genres:t})}).catch(function(t){e({type:y,error:t.message})})})}},{key:"render",value:function(){var e=this.state.quantityPage,t=this.props.movies.results,a=this.props,n=a.moviesLoading,r=a.movies,c=a.genres;return n?t?i.a.createElement("div",{className:"container"},i.a.createElement(P,Object.assign({},this.props,{getFilm:this.getFilm})),i.a.createElement("div",{className:"wrapper"},i.a.createElement(S,Object.assign({getFilm:this.getFilm,data:c},this.props)),i.a.createElement("div",{className:"Main"},i.a.createElement("div",{className:"Main__movies"},0!==t.length?i.a.createElement("ul",{className:"Main__list"},t.map(function(e){return i.a.createElement(p,{key:e.id,item:e})})):i.a.createElement(C,null)))),1===r.total_pages?null:i.a.createElement(v,Object.assign({currentPage:r.page},this.props,{quantityPages:r.total_pages>1e3?e:r.total_pages,getFilm:this.getFilm}))):void 0:i.a.createElement(E,null)}}]),t}(n.Component),M=Object(I.b)(function(e){var t=e.genres;return{movies:e.movies,moviesLoading:e.moviesLoading,moviesError:e.moviesError,genres:t,id:e.id,searchQuery:e.searchQuery,sort:e.sort}})(w),L=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.id;this.props.dispatch(function(e){var t="https://api.themoviedb.org/3/movie/".concat(e,"?api_key=debadca3a2c163df2dfbed23bec2cb9f&language=en-US");return function(e){e({type:O}),fetch(t).then(function(e){if(200!==e.status)throw new Error("Failed to load Movies");return e.json()}).then(function(t){e({type:j,movieById:t})}).catch(function(t){e({type:N,error:t.message})})}}(e))}},{key:"render",value:function(){var e=this.props,t=e.movieById,a=e.getFilm;return this.props.moviesLoading&&t?this.props.moviesLoading&&t?i.a.createElement("section",{className:"details"},i.a.createElement("div",{className:"container"},i.a.createElement(d.a,{className:"details__btn",onClick:function(){return a(1)},to:"/"},i.a.createElement("button",null,"Back")),t.poster_path?i.a.createElement("img",{src:"https://image.tmdb.org/t/p/w400".concat(t.poster_path),alt:"poster"}):i.a.createElement("div",{className:"details__poster"},i.a.createElement("h2",null,t.title)),i.a.createElement("div",{className:"details__information"},i.a.createElement("div",{className:"details__title"},i.a.createElement("h2",null,"Name:"),i.a.createElement("p",null,t.title)),i.a.createElement("div",{className:"details__title"},i.a.createElement("h2",null,"Year:"),i.a.createElement("p",null,t.release_date.split("-")[0])),i.a.createElement("div",{className:"details__title"},i.a.createElement("h2",null,"Country:"),i.a.createElement("p",null,1==typeof t.production_countries&&t.production_countries[0].name)),i.a.createElement("div",{className:"details__title"},i.a.createElement("h2",null,"Runtime:"),i.a.createElement("p",null,t.runtime," min")),i.a.createElement("div",{className:"details__title"},i.a.createElement("h2",null,"Genres:"),i.a.createElement("p",null,t.genres.map(function(e){return i.a.createElement("div",{key:e.id},e.name)})))),i.a.createElement("div",{className:"main"},i.a.createElement("h2",null,"About Movie:"),i.a.createElement("p",null,t.overview)))):void 0:i.a.createElement(E,null)}}]),t}(n.Component),F=Object(I.b)(function(e){return{movieById:e.movieById,moviesLoading:e.moviesLoading,getFilm:e.getFilm}})(L),B=a(41),T=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"App"},i.a.createElement(B.a,{exact:!0,path:"/",component:M}),i.a.createElement(B.a,{path:"/:id",component:F}))}}]),t}(n.Component),U=a(40),G=a(12),R=a(24),V=a(25),Q=a(10),D={movies:[],moviesLoading:!1,moviesyError:null,genres:[],searchQuery:!1,id:!1,sort:!1,movieById:null},A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:return Object(Q.a)({},e,{moviesLoading:!1});case g:return Object(Q.a)({},e,{movies:t.movies,moviesLoading:!0,searchQuery:t.searchQuery,id:t.id,sort:t.sort});case _:return Object(Q.a)({},e,{moviesLoading:!0,moviesError:t.error});case b:return Object(Q.a)({},e,{moviesLoading:!1});case f:return Object(Q.a)({},e,{genres:t.genres,moviesLoading:!0});case y:return Object(Q.a)({},e,{moviesLoading:!0,moviesError:t.error});case O:return Object(Q.a)({},e,{moviesLoading:!1});case j:return Object(Q.a)({},e,{movieById:t.movieById,moviesLoading:!0});case N:return Object(Q.a)({},e,{moviesLoading:!0,moviesError:t.error});default:return e}},q=[R.a,Object(V.createLogger)()],x=Object(G.d)(A,Object(G.c)(G.a.apply(void 0,q),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()));c.a.render(i.a.createElement(U.a,{basename:"/cinema"},i.a.createElement(I.a,{store:x},i.a.createElement(T,null))),document.getElementById("root"))}},[[26,1,2]]]);
//# sourceMappingURL=main.999de63f.chunk.js.map