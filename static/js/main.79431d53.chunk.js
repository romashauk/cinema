(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{27:function(e,t,a){e.exports=a(39)},32:function(e,t,a){},33:function(e,t,a){},39:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(22),c=a.n(i),o=(a(32),a(3)),s=a(4),l=a(6),m=a(5),u=a(7),d=(a(33),a(40)),p=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.item;return r.a.createElement(r.a.Fragment,null,r.a.createElement("li",{className:"Main__item",key:e.id},r.a.createElement(d.a,{to:"/"+e.id},r.a.createElement("div",{className:"Main__item-poster"}," ",e.poster_path?r.a.createElement("img",{className:"Main__item-poster-img",src:"https://image.tmdb.org/t/p/w500".concat(e.poster_path),alt:"poster"}):r.a.createElement("h3",{className:"Main__item-poster--unfound"},e.title),r.a.createElement("div",{className:"Main__item-poster-snippet-block-hide"},r.a.createElement("div",{className:"Main__item-poster-snippet"},e.overview||e.title),r.a.createElement("div",null,"..."))),r.a.createElement("div",{className:"Main__item-info"},r.a.createElement("div",{className:"Main__item-title"},e.title),r.a.createElement("div",{className:"Main__item-year"},e.release_date.split("-")[0])))))}}]),t}(n.Component),v=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(l.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).paginationItems=[],a.createPaginationBtns=function(){a.paginationItems=[];for(var e=a.props.currentPage;e<a.props.currentPage+5;e++)a.paginationItems.push(e);for(var t=a.props.currentPage;t>=a.props.currentPage-5;t--)a.paginationItems.unshift(t);a.paginationItems=a.paginationItems.filter(function(e,t){if(a.paginationItems.indexOf(e)===t&&e>1&&e<a.props.quantityPages-1)return!0})},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.getFilm,n=t.currentPage,i=t.quantityPages,c=t.sort,o=t.searchQuery,s=t.id;return this.createPaginationBtns(),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"Pagination"},r.a.createElement("div",{className:"Pagination__nav"},r.a.createElement("button",{className:"Pagination__nav-btn front",disabled:1===n,onClick:function(){a(n-1,o,s,c)}},"Prev"),r.a.createElement("div",{className:"Pagination__nav-btn ".concat(1===n?"Pagination__nav-btn--active":""),onClick:function(){a(1,o,s,c)}},"1"),n>=5?r.a.createElement("div",{className:"Pagination__nav-btn"},"..."):"",this.paginationItems.map(function(e,t){return r.a.createElement("div",{key:t,className:"Pagination__nav-btn ".concat(n===e?"Pagination__nav-btn--active":""),onClick:function(){a(e,o,s,c)}},e)}),n<=i-5?r.a.createElement("div",{className:"Pagination__nav-btn"},"..."):"",r.a.createElement("div",{hidden:0===this.paginationItems.length,className:"Pagination__nav-btn ".concat(n===i?"Pagination__nav-btn--active":""),onClick:function(){a(e.props.quantityPages,o,s,c)}},i),r.a.createElement("button",{className:"Pagination__nav-btn front",disabled:n===i,onClick:function(){a(n+1,o,s,c)}},"Next"))))}}]),t}(n.Component),E=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"loader__container"},r.a.createElement("div",{className:"lds-roller"},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null)))}}]),t}(n.Component),h="GET_MOVIES_REQUEST",g="GET_MOVIES_SUCCESS",_="GET_MOVIES_FAILURE",b="GET_GENRES_REQUEST",f="GET_GENRES_SUCCESS",y="GET_MOVIES_FAILURE",O="GET_MOVIEBYID_REQUEST",j="GET_MOVIEBYID_SUCCESS",N="GET_MOVIEBYID_FAILURE";function k(e,t,a,n,r){var i=n||t?"https://api.themoviedb.org/3".concat(t?"/search/movie":n?"":"/discover").concat(n&&!t?"/discover/movie":"","?api_key=debadca3a2c163df2dfbed23bec2cb9f&language=en-US&sort_by=").concat("top_rated"===n?"vote_average.desc":"popularity.desc","&include_adult=false&include_video=false").concat(t?"&query=".concat(t):"","&page=").concat(e).concat("top_rated"===n?"&vote_count.gte=100":"").concat(a?"&with_genres=".concat(a):""):"https://api.themoviedb.org/3/discover/movie?api_key=debadca3a2c163df2dfbed23bec2cb9f&language=en-US&sort_by=original_title.asc&include_adult=false&include_video=false&page=".concat(e).concat(a?"&with_genres=".concat(a):"");return console.log(i),function(e){e({type:h}),fetch(i).then(function(e){if(200!==e.status)throw new Error("Failed to load Movies");return e.json()}).then(function(r){e({type:g,movies:r,searchQuery:t,id:a,sort:n})}).catch(function(t){e({type:_,error:t.message})})}}var I=a(11),S=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.data.genres,t=this.props,a=t.getFilm,n=t.id,i=t.sort;return e?e?r.a.createElement("div",{className:"SideBar"},r.a.createElement("div",{className:"sorted__btn"}," ",r.a.createElement("button",{onClick:function(e){return a(1,null,n,"top_rated")}},"Top Rated"),r.a.createElement("button",{onClick:function(e){return a(1,null,n,"popular")}},"Popular")),r.a.createElement("h2",null,"Genres:"),r.a.createElement("ul",{className:"sideBarList"},this.props.data.genres.map(function(e){return r.a.createElement("li",{onClick:function(){return a(1,null,e.id,i)},key:e.id},e.name)}))):void 0:r.a.createElement(E,null)}}]),t}(n.Component),P=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(l.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={searchValue:""},a.searchFilmByName=function(e){a.setState({searchValue:e.target.value})},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state.searchValue,t=this.props.getFilm;return r.a.createElement("div",{className:"header"},r.a.createElement("div",{className:"header__logo",onClick:function(){return t(1)}}),r.a.createElement("form",{className:"header__field"},r.a.createElement("input",{onChange:this.searchFilmByName,value:e,type:"text",placeholder:"Search..."}),r.a.createElement("button",{onClick:function(a){a.preventDefault(),t(1,e)},type:"submit"},"Search")))}}]),t}(n.Component),C=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"not__found"},r.a.createElement("h1",null,"Sorry, but nothing found"))}}]),t}(n.Component),w=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(l.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={currentPage:1,quantityPage:1e3},a.getFilm=function(e,t,n,r,i){a.props.dispatch(k(e,t,n,r))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.dispatch,a=e.searchQuery,n=e.id,r=e.sort;t(k(this.state.currentPage,a,n,r)),t(function(e){e({type:b}),fetch("https://api.themoviedb.org/3/genre/movie/list?api_key=debadca3a2c163df2dfbed23bec2cb9f&language=en-US").then(function(e){if(200!==e.status)throw new Error("Failed to load Movies");return e.json()}).then(function(t){e({type:f,genres:t})}).catch(function(t){e({type:y,error:t.message})})})}},{key:"render",value:function(){var e=this.state.quantityPage,t=this.props.movies.results,a=this.props,n=a.moviesLoading,i=a.movies,c=a.genres;return n?t?r.a.createElement("div",{className:"container"},r.a.createElement(P,Object.assign({},this.props,{getFilm:this.getFilm})),r.a.createElement("div",{className:"wrapper"},r.a.createElement(S,Object.assign({getFilm:this.getFilm,data:c},this.props)),r.a.createElement("div",{className:"Main"},r.a.createElement("div",{className:"Main__movies"},0!==t.length?r.a.createElement("ul",{className:"Main__list"},t.map(function(e){return r.a.createElement(p,{key:e.id,item:e})})):r.a.createElement(C,null)))),1===i.total_pages?null:r.a.createElement(v,Object.assign({currentPage:i.page},this.props,{quantityPages:i.total_pages>1e3?e:i.total_pages,getFilm:this.getFilm}))):void 0:r.a.createElement(E,null)}}]),t}(n.Component),M=Object(I.b)(function(e){var t=e.genres;return{movies:e.movies,moviesLoading:e.moviesLoading,moviesError:e.moviesError,genres:t,id:e.id,searchQuery:e.searchQuery,sort:e.sort}})(w),L=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.id;this.props.dispatch(function(e){var t="https://api.themoviedb.org/3/movie/".concat(e,"?api_key=debadca3a2c163df2dfbed23bec2cb9f&language=en-US");return function(e){e({type:O}),fetch(t).then(function(e){if(200!==e.status)throw new Error("Failed to load Movies");return e.json()}).then(function(t){e({type:j,movieById:t})}).catch(function(t){e({type:N,error:t.message})})}}(e))}},{key:"render",value:function(){var e=this.props,t=e.movieById,a=e.getFilm;return this.props.moviesLoading&&t?this.props.moviesLoading&&t?r.a.createElement("section",{className:"details"},r.a.createElement("div",{className:"container"},r.a.createElement(d.a,{className:"details__btn",onClick:function(){return a(1)},to:"/"},r.a.createElement("button",null,"Back")),t.poster_path?r.a.createElement("img",{src:"https://image.tmdb.org/t/p/w400".concat(t.poster_path),alt:"poster"}):r.a.createElement("div",{className:"details__poster"},r.a.createElement("h2",null,t.title)),r.a.createElement("div",{className:"details__information"},r.a.createElement("div",{className:"details__title"},r.a.createElement("h2",null,"Name:"),r.a.createElement("p",null,t.title)),r.a.createElement("div",{className:"details__title"},r.a.createElement("h2",null,"Year:"),r.a.createElement("p",null,t.release_date.split("-")[0])),r.a.createElement("div",{className:"details__title"},r.a.createElement("h2",null,"Country:"),r.a.createElement("p",null,1==typeof t.production_countries&&t.production_countries[0].name)),r.a.createElement("div",{className:"details__title"},r.a.createElement("h2",null,"Runtime:"),r.a.createElement("p",null,t.runtime," min")),r.a.createElement("div",{className:"details__title"},r.a.createElement("h2",null,"Genres:"),r.a.createElement("p",null,t.genres.map(function(e){return r.a.createElement("div",{key:e.id},e.name)})))),r.a.createElement("div",{className:"main"},r.a.createElement("h2",null,"About Movie:"),r.a.createElement("p",null,t.overview)))):void 0:r.a.createElement(E,null)}}]),t}(n.Component),F=Object(I.b)(function(e){return{movieById:e.movieById,moviesLoading:e.moviesLoading,getFilm:e.getFilm}})(L),B=a(43),T=a(42),U=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(B.a,null,r.a.createElement(T.a,{exact:!0,path:"/",component:M}),r.a.createElement(T.a,{path:"/:id",component:F})))}}]),t}(n.Component),G=a(41),R=a(12),V=a(25),Q=a(26),D=a(10),A={movies:[],moviesLoading:!1,moviesyError:null,genres:[],searchQuery:!1,id:!1,sort:!1,movieById:null},q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:return Object(D.a)({},e,{moviesLoading:!1});case g:return Object(D.a)({},e,{movies:t.movies,moviesLoading:!0,searchQuery:t.searchQuery,id:t.id,sort:t.sort});case _:return Object(D.a)({},e,{moviesLoading:!0,moviesError:t.error});case b:return Object(D.a)({},e,{moviesLoading:!1});case f:return Object(D.a)({},e,{genres:t.genres,moviesLoading:!0});case y:return Object(D.a)({},e,{moviesLoading:!0,moviesError:t.error});case O:return Object(D.a)({},e,{moviesLoading:!1});case j:return Object(D.a)({},e,{movieById:t.movieById,moviesLoading:!0});case N:return Object(D.a)({},e,{moviesLoading:!0,moviesError:t.error});default:return e}},x=[V.a,Object(Q.createLogger)()],X=Object(R.d)(q,Object(R.c)(R.a.apply(void 0,x),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()));c.a.render(r.a.createElement(G.a,null,r.a.createElement(I.a,{store:X},r.a.createElement(U,null))),document.getElementById("root"))}},[[27,1,2]]]);
//# sourceMappingURL=main.79431d53.chunk.js.map